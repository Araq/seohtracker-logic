<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!--  This file is generated by Nimrod. -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module l_graph</title>
<style type="text/css">

span.DecNumber {color: blue}
span.BinNumber {color: blue}
span.HexNumber {color: blue}
span.OctNumber {color: blue}
span.FloatNumber {color: blue}
span.Identifier  {color: black}
span.Keyword {font-weight: bold}
span.StringLit {color: blue}
span.LongStringLit {color: blue}
span.CharLit {color: blue}
span.EscapeSequence {color: black}
span.Operator {color: black}
span.Punctuation {color: black}
span.Comment, span.LongComment {font-style:italic; color: green}
span.RegularExpression  {color: DarkViolet}
span.TagStart {color: DarkViolet}
span.TagEnd {color: DarkViolet}
span.Key  {color: blue}
span.Value  {color: black}
span.RawData {color: blue}
span.Assembler  {color: blue}
span.Preprocessor {color: DarkViolet}
span.Directive  {color: DarkViolet}
span.Command, span.Rule, span.Hyperlink, span.Label, span.Reference, 
span.Other  {color: black}

div.navigation {
  -moz-border-radius: 5px 5px 5px 5px;
  float: left; 
  width: 30%;
  margin: 0; padding: 0;
  border: 3px outset #7F7F7F;
  background-color: #7F7F7F;
}

div.navigation ul {
  list-style-type: none;
  padding-left: 1em;
}
div.navigation ul li a, div.navigation ul li a:visited {
  font-weight: bold;
  color: #FFFFFF;
  text-decoration: none;
}
div.navigation ul li a:hover {
  font-weight: bold;
  text-decoration: none;
  color: gold;
}

div.content {
  margin-left: 30%;
  padding: 0 1em;
  border-left: 4em;
}

dl.item dd, dl.item dd p {
  margin-top:3px;
}
dl.item dd pre {
  margin-left: 15pt;
  border: 0px;
}
dl.item dt, dl.item dt pre {
  margin:  20pt 0 0 5pt;
}

pre, span.tok {
  background-color: #F9F9F9;
  border-color: #C4C4C4;
  border-style: solid;
  border-width: 1px 1px 1px 2px;
  color: black;
  line-spacing: 110%;
  padding: 2px;
}

span.red {
  color: #A80000;
}

hr {background-color:#9D9D9D; border:0 none; color:#9D9D9D; height:1px; width:100%;}

/*
:Author: David Goodger
:Contact: goodger@python.org
:Date: Date: 2006-05-21 22:44:42 +0200 (Sun, 21 May 2006)
:Revision: Revision: 4564
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/
/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th { border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first { margin-top: 0 ! important }
.last, .with-subtitle { margin-bottom: 0 ! important }
.hidden { display: none }
a.toc-backref { text-decoration: none ; color: black }
blockquote.epigraph { margin: 2em 5em ; }
dl.docutils dd { margin-bottom: 0.5em }
div.abstract { margin: 2em 5em }
div.abstract p.topic-title { font-weight: bold ; text-align: center }
div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ; border: medium outset ; padding: 1em }
div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title { font-weight: bold ; font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title { color: red ; font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication { margin: 2em 5em ; text-align: center ; font-style: italic }
div.dedication p.topic-title { font-weight: bold ; font-style: normal }
div.figure { margin-left: 2em ; margin-right: 2em }
div.footer, div.header { clear: both; font-size: smaller }
div.line-block { display: block ; margin-top: 1em ; margin-bottom: 1em }
div.line-block div.line-block { margin-top: 0 ; margin-bottom: 0 ;
  margin-left: 1.5em }
div.sidebar { margin-left: 1em ; border: medium outset ;
  padding: 1em ; background-color: #ffffee ; /*width: 40% ;*/ float: right ;
  clear: right }

div.sidebar p.rubric { font-family: sans-serif ; font-size: medium }
div.system-messages { margin: 5em }
div.system-messages h1 { color: red }
div.system-message { border: medium outset ; padding: 1em }
div.system-message p.system-message-title { color: red ; font-weight: bold }
div.topic { margin: 2em;}
h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }
h1.title { text-align: center }
h2.subtitle { text-align: center }
/* hr.docutils { width: 75% } */
img.align-left { clear: left }
img.align-right { clear: right }
ol.simple, ul.simple { margin-bottom: 1em }
ol.arabic { list-style: decimal }
ol.loweralpha { list-style: lower-alpha }
ol.upperalpha { list-style: upper-alpha }
ol.lowerroman { list-style: lower-roman }
ol.upperroman { list-style: upper-roman }
p.attribution { text-align: right ; margin-left: 50% }
p.caption { font-style: italic }
p.credits { font-style: italic ; font-size: smaller }
p.label { white-space: nowrap }
p.rubric { font-weight:bold;font-size:larger;color:maroon;text-align:center}
p.sidebar-title {font-family: sans-serif ;font-weight: bold ;font-size: larger }
p.sidebar-subtitle {font-family: sans-serif ; font-weight: bold }
p.topic-title {
font-weight: bold;
background-color: #6D6D6D;
border-bottom: 1px solid #000000;
border-top: 1px solid black;
color: white;
text-align: center;
margin: 0;
}
pre.address { margin-bottom: 0;margin-top:0;font-family:serif;font-size:100% }
pre.literal-block, pre.doctest-block {margin-left: 2em ;margin-right: 2em }
span.classifier {font-family: sans-serif;font-style: oblique }
span.classifier-delimiter {font-family: sans-serif;font-weight: bold }
span.interpreted {font-family: sans-serif }
span.option {white-space: nowrap }
span.pre {white-space: pre }
span.problematic {color: red }
span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation { border-left: solid 1px gray; margin-left: 1px }
table.docinfo {margin: 2em 4em }
table.docutils {margin-top: 0.5em;margin-bottom: 0.5em; border: 0 solid #9d9d9d; border-collapse: collapse; }
table.footnote {border-left: solid 1px black;margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {padding-left: 0.5em;padding-right: 0.5em;
  vertical-align: top;}

table.docutils td, table.docutils th { border-bottom:1px solid #9D9D9D; }
/* color: #4d4d4d} */

/* table.docutils td:hover, table.docinfo td:hover {color: #000000} */
  

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold;text-align: left;white-space: nowrap;padding-left: 0 }
  
table.docutils th
{
color: black;
font-weight:normal;
background-color: #E3E3E3;
border-top: 1px solid #1d1d1d;
border-bottom: 1px solid #1d1d1d;
}
  
h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {font-size: 100% }
ul.auto-toc { list-style-type: none }
/*a.reference { color: #E00000; font-weight:bold;}
a.reference:hover {color: #E00000;background-color: #ffff00;display: margin;
  font-weight:bold;}*/

</style>

</head>
<body>
<div class="document" id="documentId">
<h1 class="title">Module l_graph</h1>
<div class="navigation" id="navigation">
<ul class="simple">
<li>
  <a class="reference" href="#6" id="56">Imports</a>
  <ul class="simple">
    
  </ul>
</li>
<li>
  <a class="reference" href="#7" id="57">Types</a>
  <ul class="simple">
      <li><a class="reference" href="#Nice_scale"
    title="Nice_scale* = object 
  min_point*: float           ## Input, the minimum point to be displayed by the graph.
  max_point*: float           ## Input, the maximum point to be displayed by the graph.
  max_ticks*: int             ## Input, maximum number of ticks in the axis.
  tick_spacing*: float        ## Output, distance between ticks on the ideal axis.
  nice_min*: float            ## Output, optimal minimum value to start the axis.
  nice_max*: float            ## Output, optimal maximum value to end the axis."><wbr />Nice_<wbr />scale</a></li>
  <li><a class="reference" href="#PNice_scale"
    title="PNice_scale* = ref Nice_scale"><wbr />PNice_<wbr />scale</a></li>

  </ul>
</li>
<li>
  <a class="reference" href="#10" id="60">Consts</a>
  <ul class="simple">
      <li><a class="reference" href="#default_max_ticks"
    title="default_max_ticks* = 10"><wbr />default_<wbr />max_<wbr />ticks</a></li>

  </ul>
</li>
<li>
  <a class="reference" href="#12" id="62">Procs</a>
  <ul class="simple">
      <li><a class="reference" href="#$,Nice_scale"
    title="`$`*(x: Nice_scale): string">`<wbr />$`</a></li>
  <li><a class="reference" href="#calculate,Nice_scale"
    title="calculate*(X: var Nice_scale)"><wbr />calculate</a></li>
  <li><a class="reference" href="#init,Nice_scale,float,float"
    title="init*(X: var Nice_scale; min_point, max_point: float; 
      max_ticks = default_max_ticks)"><wbr />init</a></li>
  <li><a class="reference" href="#init_nice_scale,float,float"
    title="init_nice_scale*(min_point, max_point: float; max_ticks = default_max_ticks): Nice_scale"><wbr />init_<wbr />nice_<wbr />scale</a></li>
  <li><a class="reference" href="#calculate,Nice_scale_2"
    title="calculate*(X: var Nice_scale)"><wbr />calculate</a></li>

  </ul>
</li>

</ul>
</div>
<div class="content" id="content">
<p><a class="reference external" href="https://github.com/gradha/seohtracker-logic">Seohtracker logic</a> graph module.</p>
<p>Contains graphical related code. Not directly used in the logical operation of Seohtracker but common code for many if not all clients. Also, some of this code is more optimal in Nimrod just because you don't have the interface call overhead to obtain data.</p>
<p>Some reference code used to implement the code here include:</p>
<ul class="simple"><li><a class="reference external" href="http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks/16363437#16363437">http://stackoverflow.com/questions/8506881/nice-label-algorithm-for-charts-with-minimum-ticks/16363437#16363437</a></li>
</ul>

<div class="section" id="6">
<h1><a class="toc-backref" href="#56">Imports</a></h1>
<dl class="item">
<a class="reference external" href="math.html">math</a>, <a class="reference external" href="strutils.html">strutils</a>, <a class="reference external" href="l_log.html">l_log</a>
</dl></div>
<div class="section" id="7">
<h1><a class="toc-backref" href="#57">Types</a></h1>
<dl class="item">
<dt id="Nice_scale"><a name="Nice_scale"></a><pre><span class="Identifier">Nice_scale</span><span class="Operator">*</span> <span class="Other">{.</span><span class="Identifier">exportc</span><span class="Other">.}</span> <span class="Other">=</span> <span class="Keyword">object</span> 
  <span class="Identifier">min_point</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">float</span>           <span class="Comment">## Input, the minimum point to be displayed by the graph.</span>
  <span class="Identifier">max_point</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">float</span>           <span class="Comment">## Input, the maximum point to be displayed by the graph.</span>
  <span class="Identifier">max_ticks</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">int</span>             <span class="Comment">## Input, maximum number of ticks in the axis.</span>
  <span class="Identifier">tick_spacing</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">float</span>        <span class="Comment">## Output, distance between ticks on the ideal axis.</span>
  <span class="Identifier">nice_min</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">float</span>            <span class="Comment">## Output, optimal minimum value to start the axis.</span>
  <span class="Identifier">nice_max</span><span class="Operator">*</span><span class="Other">:</span> <span class="Identifier">float</span>            <span class="Comment">## Output, optimal maximum value to end the axis.</span>
  </pre></dt>
<dd>
<p>
Stores the input and output parameters of the scale computation.</p>
<p>You need to initialize a Nice_scale object and then call the <tt class="docutils literal"><span class="pre">calculate</span></tt> proc to contain meaningful output values. Call <tt class="docutils literal"><span class="pre">calculate</span></tt> again if you modify the input parameters.</p>


</dd>
<dt id="PNice_scale"><a name="PNice_scale"></a><pre><span class="Identifier">PNice_scale</span><span class="Operator">*</span> <span class="Other">{.</span><span class="Identifier">exportc</span><span class="Other">.}</span> <span class="Other">=</span> <span class="Keyword">ref</span> <span class="Identifier">Nice_scale</span></pre></dt>
<dd>


</dd>

</dl></div>
<div class="section" id="10">
<h1><a class="toc-backref" href="#60">Consts</a></h1>
<dl class="item">
<dt id="default_max_ticks"><a name="default_max_ticks"></a><pre><span class="Identifier">default_max_ticks</span><span class="Operator">*</span> <span class="Other">=</span> <span class="DecNumber">10</span></pre></dt>
<dd>


</dd>

</dl></div>
<div class="section" id="12">
<h1><a class="toc-backref" href="#62">Procs</a></h1>
<dl class="item">
<dt id="$"><a name="$,Nice_scale"></a><pre><span class="Keyword">proc</span> <span class="Other">`</span><span class="Operator">$</span><span class="Other">`</span><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">x</span><span class="Other">:</span> <span class="Identifier">Nice_scale</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">string</span></pre></dt>
<dd>
Debug formatter of the Nice_scale structure.

</dd>
<dt id="calculate"><a name="calculate,Nice_scale"></a><pre><span class="Keyword">proc</span> <span class="Identifier">calculate</span><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">X</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Nice_scale</span><span class="Other">)</span> <span class="Other">{.</span><span class="Identifier">raises</span><span class="Other">:</span> <span class="Other">[</span><span class="Other">]</span><span class="Other">.}</span></pre></dt>
<dd>


</dd>
<dt id="init"><a name="init,Nice_scale,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">init</span><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">X</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Nice_scale</span><span class="Other">;</span> <span class="Identifier">min_point</span><span class="Other">,</span> <span class="Identifier">max_point</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">;</span> 
           <span class="Identifier">max_ticks</span> <span class="Other">=</span> <span class="Identifier">default_max_ticks</span><span class="Other">)</span></pre></dt>
<dd>
<p>Initializes a Nice_scale variable.</p>
<p>Pass the minimum and maximum values of the axis and the number of ticks. The initialisation will automatically call <tt class="docutils literal"><span class="pre">calculate()</span></tt> for you so you can already grab the output values.</p>


</dd>
<dt id="init_nice_scale"><a name="init_nice_scale,float,float"></a><pre><span class="Keyword">proc</span> <span class="Identifier">init_nice_scale</span><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">min_point</span><span class="Other">,</span> <span class="Identifier">max_point</span><span class="Other">:</span> <span class="Identifier">float</span><span class="Other">;</span> <span class="Identifier">max_ticks</span> <span class="Other">=</span> <span class="Identifier">default_max_ticks</span><span class="Other">)</span><span class="Other">:</span> <span class="Identifier">Nice_scale</span></pre></dt>
<dd>
Shortcut for initialisations in variable blocks.

</dd>
<dt id="calculate"><a name="calculate,Nice_scale_2"></a><pre><span class="Keyword">proc</span> <span class="Identifier">calculate</span><span class="Operator">*</span><span class="Other">(</span><span class="Identifier">X</span><span class="Other">:</span> <span class="Keyword">var</span> <span class="Identifier">Nice_scale</span><span class="Other">)</span></pre></dt>
<dd>
<p>Calculates the value of output fields based on the input fields.</p>
<p>Feel free to modify any of <cite>min_point</cite>, <cite>max_point</cite> or <cite>max_ticks</cite> before calling this. Then the proc will modify the <cite>tick_spacing</cite>, <cite>nice_max</cite> and <cite>nice_max</cite> fields.</p>
<p>The <cite>max_ticks</cite> field has to be zero or positive. The <cite>max_point</cite> field has to be always bigger than <cite>min_point</cite>.</p>


</dd>

</dl></div>

</div>

<small>Generated: 2015-01-17 21:32:18 UTC</small>
</div>
</body>
</html>
